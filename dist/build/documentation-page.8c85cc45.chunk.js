"use strict";(self.webpackChunkcafedra=self.webpackChunkcafedra||[]).push([[9789],{73972:(T,d,t)=>{t.d(d,{f:()=>v});var e=t(45485),r=t(17741),l=t(40464),c=t(52809),m=t(35326);const v=()=>{const o=(0,r.lm)(),{del:P,post:h,put:O,get:x}=(0,r.kY)(),{formatAPIError:B}=(0,r.So)(),{isLoading:n,isError:s,data:_,refetch:a,error:i}=(0,l.useQuery)(["get-documentation",c.Z],async()=>{const{data:u}=await x(`/${c.Z}/getInfos`);return u});(0,e.useEffect)(()=>{s&&i&&o({type:"warning",message:i?B(i):{id:"notification.error"}})},[s,i,o,B]);const E=u=>{o({type:"warning",message:B(u)})},f=(u,M,p)=>{a(),o({type:u,message:{id:(0,m.Z)(M),defaultMessage:p}})},L=(0,l.useMutation)(({prefix:u,version:M})=>P(`${u}/deleteDoc/${M}`),{onSuccess:()=>f("info","notification.delete.success","Successfully deleted documentation"),onError:E}),I=(0,l.useMutation)(({prefix:u,body:M})=>O(`${u}/updateSettings`,M),{onSuccess:()=>f("success","notification.update.success","Successfully updated settings"),onError:E}),R=(0,l.useMutation)(({prefix:u,version:M})=>h(`${u}/regenerateDoc`,{version:M}),{onSuccess:()=>f("info","notification.generate.success","Successfully generated documentation"),onError:E});return{data:_,isLoading:n,isError:s,remove:L,submit:I,regenerate:R}}},16561:(T,d,t)=>{t.r(d),t.d(d,{default:()=>H});var e=t(45485),r=t(27997),l=t(74758),c=t(93415),m=t(9941),v=t(27875),o=t(70774),P=t(38101),h=t(93153),O=t(50086),x=t(32370),B=t(86967),n=t(10701),s=t(4987),_=t(83),a=t(17741),i=t(98264),E=t(84352),f=t(78665),L=t(364),I=t(61020),R=t(72450),u=t(12966),M=t(73972),p=t(10104);const Z=()=>{(0,a.go)();const{formatMessage:D}=(0,I.Z)(),{data:C,isLoading:j,isError:z,remove:F,regenerate:N}=(0,M.f)(),[W,A]=(0,e.useState)(!1),[Q,S]=(0,e.useState)(!1),[b,G]=(0,e.useState)(),{allowedActions:y}=(0,a.ss)(u._),X=4,Y=(C?.docVersions?.length||0)+1,J=g=>{N.mutate({version:g,prefix:C?.prefix})},k=()=>{A(!W)},w=async()=>{S(!0),await F.mutateAsync({prefix:C?.prefix,version:b}),A(!W),S(!1)},q=g=>{G(g),A(!W)},$=D({id:(0,p.O)("plugin.name"),defaultMessage:"Documentation"});return z?e.createElement(r.A,null,e.createElement(l.D,null,e.createElement(c.x,{paddingTop:8},e.createElement(a.Hn,null)))):e.createElement(r.A,null,e.createElement(L.q,{title:$}),e.createElement(m.o,{"aria-busy":j},e.createElement(v.T,{title:$,subtitle:D({id:(0,p.O)("pages.PluginPage.header.description"),defaultMessage:"Configure the documentation plugin"}),primaryAction:e.createElement(V,{disabled:!y.canOpen||!C?.currentVersion||!C?.prefix,href:K(`${C?.prefix}/v${C?.currentVersion}`),startIcon:e.createElement(i.Z,null)},D({id:(0,p.O)("pages.PluginPage.Button.open"),defaultMessage:"Open Documentation"}))}),e.createElement(l.D,null,j&&e.createElement(a.dO,null,"Plugin is loading"),C?.docVersions.length?e.createElement(o.i,{colCount:X,rowCount:Y},e.createElement(P.h,null,e.createElement(h.Tr,null,e.createElement(O.Th,null,e.createElement(x.Z,{variant:"sigma",textColor:"neutral600"},D({id:(0,p.O)("pages.PluginPage.table.version"),defaultMessage:"Version"}))),e.createElement(O.Th,null,e.createElement(x.Z,{variant:"sigma",textColor:"neutral600"},D({id:(0,p.O)("pages.PluginPage.table.generated"),defaultMessage:"Last Generated"}))))),e.createElement(B.p,null,C.docVersions.sort((g,U)=>g.generatedDate<U.generatedDate?1:-1).map(g=>e.createElement(h.Tr,{key:g.version},e.createElement(O.Td,{width:"50%"},e.createElement(x.Z,null,g.version)),e.createElement(O.Td,{width:"50%"},e.createElement(x.Z,null,g.generatedDate)),e.createElement(O.Td,null,e.createElement(n.k,{justifyContent:"end",onClick:U=>U.stopPropagation()},e.createElement(s.h,{forwardedAs:"a",disabled:!y.canOpen,href:K(`${C.prefix}/v${g.version}`),noBorder:!0,icon:e.createElement(i.Z,null),target:"_blank",rel:"noopener noreferrer",label:D({id:(0,p.O)("pages.PluginPage.table.icon.show"),defaultMessage:"Open {target}"},{target:`${g.version}`})}),y.canRegenerate?e.createElement(s.h,{onClick:()=>J(g.version),noBorder:!0,icon:e.createElement(E.Z,null),label:D({id:(0,p.O)("pages.PluginPage.table.icon.regenerate"),defaultMessage:"Regenerate {target}"},{target:`${g.version}`})}):null,y.canUpdate&&g.version!==C.currentVersion?e.createElement(s.h,{onClick:()=>q(g.version),noBorder:!0,icon:e.createElement(f.Z,null),label:D({id:"global.delete-target",defaultMessage:"Delete {target}"},{target:`${g.version}`})}):null)))))):e.createElement(a.x7,null)),e.createElement(a.QH,{isConfirmButtonLoading:Q,onConfirm:w,onToggleDialog:k,isOpen:W})))},V=(0,R.default)(_.Q)`
  text-decoration: none;
`,K=D=>D.startsWith("http")?D:D.startsWith("/")?`${window.strapi.backendURL}${D}`:`${window.strapi.backendURL}/${D}`,H=Z},35326:(T,d,t)=>{t.d(d,{Z:()=>l});var e=t(52809);const l=c=>`${e.Z}.${c}`},10104:(T,d,t)=>{t.d(d,{O:()=>e.Z});var e=t(35326)},74758:(T,d,t)=>{t.d(d,{D:()=>l});var e=t(74081),r=t(93415);const l=({children:c})=>(0,e.jsx)(r.x,{paddingLeft:10,paddingRight:10,children:c})},27875:(T,d,t)=>{t.d(d,{T:()=>O});var e=t(74081),r=t(45485),l=t(72450);const c=n=>{const s=(0,r.useRef)(null),[_,a]=(0,r.useState)(!0),i=([E])=>{a(E.isIntersecting)};return(0,r.useEffect)(()=>{const E=s.current,f=new IntersectionObserver(i,n);return E&&f.observe(s.current),()=>{E&&f.disconnect()}},[s,n]),[s,_]};var m=t(66705);const v=(n,s)=>{const _=(0,m.W)(s);(0,r.useLayoutEffect)(()=>{const a=new ResizeObserver(_);return Array.isArray(n)?n.forEach(i=>{i.current&&a.observe(i.current)}):n.current&&a.observe(n.current),()=>{a.disconnect()}},[n,_])};var o=t(93415),P=t(10701),h=t(32370);const O=n=>{const s=(0,r.useRef)(null),[_,a]=(0,r.useState)(null),[i,E]=c({root:null,rootMargin:"0px",threshold:0});return v(i,()=>{i.current&&a(i.current.getBoundingClientRect())}),(0,r.useEffect)(()=>{s.current&&a(s.current.getBoundingClientRect())},[s]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{style:{height:_?.height},ref:i,children:E&&(0,e.jsx)(B,{ref:s,...n})}),!E&&(0,e.jsx)(B,{...n,sticky:!0,width:_?.width})]})};O.displayName="HeaderLayout";const x=(0,l.default)(o.x)`
  width: ${({width:n})=>n?`${n/16}rem`:void 0};
  z-index: ${({theme:n})=>n.zIndices[1]};
`,B=r.forwardRef(({navigationAction:n,primaryAction:s,secondaryAction:_,subtitle:a,title:i,sticky:E,width:f,...L},I)=>{const R=typeof a=="string";return E?(0,e.jsx)(x,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,position:"fixed",top:0,right:0,background:"neutral0",shadow:"tableShadow",width:f,"data-strapi-header-sticky":!0,children:(0,e.jsxs)(P.k,{justifyContent:"space-between",children:[(0,e.jsxs)(P.k,{children:[n&&(0,e.jsx)(o.x,{paddingRight:3,children:n}),(0,e.jsxs)(o.x,{children:[(0,e.jsx)(h.Z,{variant:"beta",as:"h1",...L,children:i}),R?(0,e.jsx)(h.Z,{variant:"pi",textColor:"neutral600",children:a}):a]}),_?(0,e.jsx)(o.x,{paddingLeft:4,children:_}):null]}),(0,e.jsx)(P.k,{children:s?(0,e.jsx)(o.x,{paddingLeft:2,children:s}):void 0})]})}):(0,e.jsxs)(o.x,{ref:I,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:n?6:8,background:"neutral100","data-strapi-header":!0,children:[n?(0,e.jsx)(o.x,{paddingBottom:2,children:n}):null,(0,e.jsxs)(P.k,{justifyContent:"space-between",children:[(0,e.jsxs)(P.k,{minWidth:0,children:[(0,e.jsx)(h.Z,{as:"h1",variant:"alpha",...L,children:i}),_?(0,e.jsx)(o.x,{paddingLeft:4,children:_}):null]}),s]}),R?(0,e.jsx)(h.Z,{variant:"epsilon",textColor:"neutral600",as:"p",children:a}):a]})})},27997:(T,d,t)=>{t.d(d,{A:()=>v});var e=t(74081),r=t(72450),l=t(93415);const c=(0,r.default)(l.x)`
  display: grid;
  grid-template-columns: ${({hasSideNav:o})=>o?"auto 1fr":"1fr"};
`,m=(0,r.default)(l.x)`
  overflow-x: hidden;
`,v=({sideNav:o,children:P})=>(0,e.jsxs)(c,{hasSideNav:Boolean(o),children:[o,(0,e.jsx)(m,{paddingBottom:10,children:P})]})},83:(T,d,t)=>{t.d(d,{Q:()=>O});var e=t(74081),r=t(45485),l=t(47533),c=t(72450),m=t(62629),v=t(8976),o=t(10701),P=t(32370);const h=(0,c.default)(v.G)`
  &[aria-disabled='true'] {
    ${m.sg}
    &:active {
      ${m.sg}
    }
  }
  &:hover {
    ${m.yP}
  }
  &:active {
    ${m.tB}
  }
  ${m.PD}
`,O=r.forwardRef(({variant:x="default",startIcon:B,endIcon:n,disabled:s=!1,children:_,size:a="S",href:i,to:E,...f},L)=>{const I=i?"_blank":void 0,R=i?"noreferrer noopener":void 0,u=a==="S"?2:"10px",M=4;return(0,e.jsxs)(h,{ref:L,"aria-disabled":s,size:a,variant:x,target:I,rel:R,to:s?void 0:E,href:s?"#":i,background:"buttonPrimary600",borderColor:"buttonPrimary600",hasRadius:!0,gap:2,inline:!0,paddingBottom:u,paddingLeft:M,paddingRight:M,paddingTop:u,pointerEvents:s?"none":void 0,...f,as:E&&!s?l.NavLink:"a",children:[B&&(0,e.jsx)(o.k,{"aria-hidden":!0,children:B}),(0,e.jsx)(P.Z,{variant:a==="S"?"pi":void 0,fontWeight:"bold",textColor:"buttonNeutral0",children:_}),n&&(0,e.jsx)(o.k,{"aria-hidden":!0,children:n})]})})},9941:(T,d,t)=>{t.d(d,{o:()=>m});var e=t(74081),r=t(72450),l=t(93415);const c=(0,r.default)(l.x)`
  // To prevent global outline on focus visible to force an outline when Main is focused
  &:focus-visible {
    outline: none;
  }
`,m=({labelledBy:v="main-content-title",...o})=>(0,e.jsx)(c,{"aria-labelledby":v,as:"main",id:"main-content",tabIndex:-1,...o})}}]);
